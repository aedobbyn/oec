<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<link rel="icon" type="image/png" href="http://www.datawheel.us/img/favicon.ico">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Pachá 帕夏" />


<title>OEC Datasets</title>






<link rel="stylesheet" href="index_files/style.css" type="text/css" />

</head>

<body>




<div class="row">
<div class="col s12 m3">
<div class="table cover">
<div class="cover-card table-cell table-middle">

<center>
<img src="http://pacha.datawheel.us/oec_logo.png" alt="oec_logo"><br>
<span class="author_name">OEC Datasets</span>
<span class="author_bio mbm">Pachá 帕夏</span>
<span class="author_bio mbm">Updated 2017-07-17</span>
</center>
</div>
</div>
</div>


<div class="col s12 m9">
<div class="post-listing">

<div id="post">
<article class="post-content">
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Here we provide the raw datasets, the scripts and the clean datasets used in the Observatory of Economic Complexity. We use the <em>Tidy Data</em> principles exposed by Hadley Wickham.</p>
<p>If you have questions send me an email to <em>mvargas [at] dcc.uchile.cl</em>.</p>
<p>In the final datsets we provide:</p>
<ul>
<li>Each variable forms a column</li>
<li>Each observation forms a row</li>
<li>Each type of observational unit forms a table</li>
</ul>
<p>This is Codd’s 3rd normal form.</p>
</div>
<div id="raw-data" class="section level1">
<h1>Raw Data</h1>
<p>Our raw data comes from <a href="https://comtrade.un.org/data/Doc/api/bulk">the UN Comtrade bulk data API</a>.</p>
<p>We cleaned this data according to Tidy Data principles. This diagram represents what we did:</p>
<p><img src="tidy_data.png" alt = "tidy data diagram here"></p>
</div>
<div id="clean-data" class="section level1">
<h1>Clean Data</h1>
<p>The difference between the clean data and the raw data we both provide is that here we divided the original datasets in different parts by commodity code lenght, we used wide format instead of long format, and we tried to fill as many gaps as possible.</p>
<p>For each NA or 0 value we tried to replace it in this way: If country A reported NA or 0 exports (imports) of product B to (from) country C, then we searched what country C reported of imports (exports) of product B from (to) country A. To indicate which rows we included a column named <em>marker</em> with this labels:</p>
<ul>
<li>1 = imports with replacements</li>
<li>2 = exports with replacements</li>
<li>3 = imports and exports with replacements</li>
<li>NA = no replacements needed</li>
</ul>
</div>
<div id="methodology-scripts-and-datasets" class="section level1">
<h1>Methodology, scripts and datasets</h1>
<div id="detailed-description-of-all-the-datasets-and-steps-performed" class="section level4">
<h4>Detailed description of all the datasets and steps performed</h4>
<ul>
<li><p><a href="https://drive.google.com/open?id=1UkhZILel4ZmmarGn0nyyObb_B1ccsnmwFVFvaEDXX9o">OEC Data - Contents and Methodology</a></p></li>
<li><p><a href="https://drive.google.com/open?id=15OWM7XElMwkg-uVUgWA5BbEz8iHOjmRYvDP3Q11ZabU">OEC Data - DB Schema</a></p></li>
</ul>
</div>
<div id="download-all-the-datasets-from-raw-to-final-tables" class="section level4">
<h4>Download all the datasets, from raw to final tables</h4>
<ul>
<li><a href="https://drive.google.com/open?id=1ga_MWouLnrvDoo8gJK6t2HtBP0gKF11AUN-69P0zW8A">OEC Data - Folders Structure</a></li>
</ul>
</div>
<div id="misc" class="section level4">
<h4>Misc</h4>
<ul>
<li><a href="https://drive.google.com/open?id=1g0_KMH8b9pxRbiRT4bGy0AGa7yIepXtkVSjYmmV3QUs">OEC Data - HS sections and chapters</a></li>
</ul>
</div>
</div>
<div id="reproducible-research" class="section level1">
<h1>Reproducible Research</h1>
<p>This project is reproducible.</p>
<p><em>UPLOAD LINKS</em></p>
<p>The only reproducibility flaw is that the file <code>0_do_all.R</code> inside <code>comtrade_data</code> folder downloads data from UN Comtrade API and that API needs a <a href="https://comtrade.un.org/data/auth/login">token</a>. You’ll need your own token because we cannot provide or own or it will violate UN Comtrade’s Terms of Service.</p>
<p>Besides R packages you’ll need <code>7z</code> installed on your system as its the compression tool we use in the scripts.</p>
<p>The system and R packages used in this project are:</p>
<p><strong>R version 3.4.1 (2017-06-30)</strong></p>
<p><b>Platform:</b> x86_64-pc-linux-gnu (64-bit)</p>
<p><strong>locale:</strong> <em>LC_CTYPE=en_US.UTF-8</em>, <em>LC_NUMERIC=C</em>, <em>LC_TIME=en_US.UTF-8</em>, <em>LC_COLLATE=en_US.UTF-8</em>, <em>LC_MONETARY=en_US.UTF-8</em>, <em>LC_MESSAGES=en_US.UTF-8</em>, <em>LC_PAPER=en_US.UTF-8</em>, <em>LC_NAME=C</em>, <em>LC_ADDRESS=C</em>, <em>LC_TELEPHONE=C</em>, <em>LC_MEASUREMENT=en_US.UTF-8</em> and <em>LC_IDENTIFICATION=C</em></p>
<p><strong>attached base packages:</strong></p>
<ul>
<li>stats</li>
<li>graphics</li>
<li>grDevices</li>
<li>utils</li>
<li>datasets</li>
<li>methods</li>
<li>base</li>
</ul>
<p><strong>other attached packages:</strong></p>
<ul>
<li>pander(v.0.6.0)</li>
<li>bit64(v.0.9-7)</li>
<li>bit(v.1.1-12)</li>
<li>tidyr(v.0.6.3)</li>
<li>dtplyr(v.0.0.2)</li>
<li>httr(v.1.2.1)</li>
<li>data.table(v.1.10.4)</li>
<li>dplyr(v.0.7.1)</li>
<li>readxl(v.1.0.0)</li>
<li>jsonlite(v.1.5)</li>
</ul>
<p><strong>loaded via a namespace (and not attached):</strong></p>
<ul>
<li>Rcpp(v.0.12.11)</li>
<li>knitr(v.1.16)</li>
<li>bindr(v.0.1)</li>
<li>magrittr(v.1.5)</li>
<li>R6(v.2.2.2)</li>
<li>rlang(v.0.1.1)</li>
<li>stringr(v.1.2.0)</li>
<li>tools(v.3.4.1)</li>
<li>htmltools(v.0.3.6)</li>
<li>yaml(v.2.1.14)</li>
<li>rprojroot(v.1.2)</li>
<li>digest(v.0.6.12)</li>
<li>assertthat(v.0.2.0)</li>
<li>tibble(v.1.3.3)</li>
<li>bindrcpp(v.0.2)</li>
<li>prettydoc(v.0.2.0)</li>
<li>glue(v.1.1.1)</li>
<li>evaluate(v.0.10.1)</li>
<li>rmarkdown(v.1.6)</li>
<li>stringi(v.1.1.5)</li>
<li>compiler(v.3.4.1)</li>
<li>cellranger(v.1.1.0)</li>
<li>backports(v.1.1.0)</li>
<li>pkgconfig(v.2.0.1)</li>
</ul>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>Simoes, A. (2012). <em>The Observatory</em> (Unpublished master’s thesis). MIT Media Lab, Cambridge.</p>
<p>Hidalgo, Hausmann, et al. (2014). <em>The atlas of economic complexity: Mapping paths to prosperity</em>. MIT Press.</p>
<p>Wickham, H. (2014). Tidy data. <em>Journal of Statistical Software</em>, 59(10), 1-23. Chicago.</p>
<p>Codd, E. F. (1990). <em>The relational model for database management: version 2</em>. Addison-Wesley.</p>
</div>
</article>
</div>
</div>
</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65764144-13', 'auto');
  ga('send', 'pageview');
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">

</body>
</html>
